{"version":3,"sources":["util.js","components/Cart.js","components/Filter.js","components/Products.js","App.js","index.js"],"names":["formatCurrency","num","Number","toFixed","toLocaleString","Cart","props","useState","showCheckout","setShowCheckout","email","setEmail","name","setName","address","setAddress","itemsInCart","length","className","left","cascade","map","item","src","image","alt","title","price","count","onClick","removeFromCart","_id","reduce","a","c","right","onSubmit","e","preventDefault","order","createOrder","type","required","onChange","target","value","Filter","sort","sortProducts","size","filterProducts","Products","product","setProduct","closeModal","bottom","products","href","openModal","addToCart","isOpen","onRequestClose","ariaHideApp","description","availableSizes","index","App","data","setProducts","setSize","setSort","localStorage","getItem","JSON","parse","cartItems","setCartItems","event","slice","b","filter","indexOf","alreadyInCart","forEach","push","setItem","stringify","x","alert","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.314eeb05.chunk.js","sourcesContent":["export default function formatCurrency(num) {\r\n  return `$${Number(num.toFixed(1)).toLocaleString()} `;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\n\r\nfunction Cart(props) {\r\n  const [showCheckout, setShowCheckout] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n\r\n  const itemsInCart = props.itemsInCart;\r\n\r\n  const handleEmailInput = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const handleNameInput = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleAddressInput = (e) => {\r\n    setAddress(e.target.value);\r\n  };\r\n\r\n  const createOrder = (e) => {\r\n    e.preventDefault();\r\n    const order = {\r\n      email: email,\r\n      name: name,\r\n      address: address,\r\n      itemsInCart: props.itemsInCart,\r\n    };\r\n    props.createOrder(order);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {itemsInCart.length === 0 ? (\r\n        <div className=\"cart cart-header\">Cart is empty</div>\r\n      ) : (\r\n        <div className=\"cart cart-header\">\r\n          You have {itemsInCart.length} items in the cart{\" \"}\r\n        </div>\r\n      )}\r\n      <div className=\"cart\">\r\n        <Fade left cascade>\r\n          <ul className=\"cart-items\">\r\n            {itemsInCart.map((item) => (\r\n              <li key={item._id}>\r\n                <div>\r\n                  <img src={item.image} alt={item.title} />\r\n                </div>\r\n                <div>\r\n                  <div>{item.title}</div>\r\n                  <div className=\"right\">\r\n                    {formatCurrency(item.price)} x {item.count}{\" \"}\r\n                    <button\r\n                      className=\"button\"\r\n                      onClick={() => props.removeFromCart(item)}\r\n                    >\r\n                      Remove\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </Fade>\r\n      </div>\r\n      {itemsInCart.length !== 0 && (\r\n        <div>\r\n          <div className=\"cart\">\r\n            <div className=\"total\">\r\n              <div>\r\n                Total:{\" \"}\r\n                {formatCurrency(\r\n                  itemsInCart.reduce((a, c) => a + c.price * c.count, 0)\r\n                )}\r\n              </div>\r\n              <button\r\n                className=\"button primary\"\r\n                onClick={() => setShowCheckout(true)}\r\n              >\r\n                Proceed\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {showCheckout && (\r\n            <Fade right cascade>\r\n              <div className=\"cart\">\r\n                <form onSubmit={createOrder}>\r\n                  <ul className=\"form-container\">\r\n                    <li>\r\n                      <label>Email</label>\r\n                      <input\r\n                        name=\"email\"\r\n                        type=\"email\"\r\n                        required\r\n                        onChange={handleEmailInput}\r\n                      ></input>\r\n                    </li>\r\n                    <li>\r\n                      <label>Name</label>\r\n                      <input\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        required\r\n                        onChange={handleNameInput}\r\n                      ></input>\r\n                    </li>\r\n                    <li>\r\n                      <label>Address</label>\r\n                      <input\r\n                        name=\"address\"\r\n                        type=\"text\"\r\n                        required\r\n                        onChange={handleAddressInput}\r\n                      ></input>\r\n                    </li>\r\n                    <li>\r\n                      <button className=\"button primary\" type=\"submit\">\r\n                        Checkout\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n                </form>\r\n              </div>\r\n            </Fade>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\n\r\nfunction Filter(props) {\r\n  return (\r\n    <div className=\"filter\">\r\n      <div className=\"filter-result\">{props.count} Products</div>\r\n      <div className=\"filter-sort\">\r\n        Order{\" \"}\r\n        <select value={props.sort} onChange={props.sortProducts}>\r\n          <option value=\"latest\">Latest</option>\r\n          <option value=\"lowest\">Lowest</option>\r\n          <option value=\"highest\">Highest</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"filter-size\">\r\n        Filter{\" \"}\r\n        <select value={props.size} onChange={props.filterProducts}>\r\n          <option value=\"\">All</option>\r\n          <option value=\"XS\">XS</option>\r\n          <option value=\"S\">S</option>\r\n          <option value=\"M\">M</option>\r\n          <option value=\"L\">L</option>\r\n          <option value=\"XL\">XL</option>\r\n          <option value=\"XXL\">XXL</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n","import React, { useState } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Modal from \"react-modal\";\r\n\r\nfunction Products(props) {\r\n  const [product, setProduct] = useState(null);\r\n\r\n  const openModal = (product) => {\r\n    setProduct(product);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setProduct(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Fade bottom cascade>\r\n        <ul className=\"products\">\r\n          {props.products.map((product) => (\r\n            <li key={product._id}>\r\n              <div className=\"product\">\r\n                <a href={`#${product._id}`} onClick={() => openModal(product)}>\r\n                  <img src={product.image} alt={product.title} />\r\n                  <p>{product.title}</p>\r\n                </a>\r\n                <div className=\"product-price\">\r\n                  <div>{formatCurrency(product.price)}</div>\r\n                  <button\r\n                    className=\"button primary\"\r\n                    onClick={() => props.addToCart(product)}\r\n                  >\r\n                    Add to cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </Fade>\r\n\r\n      {product && (\r\n        <Modal isOpen={true} onRequestClose={closeModal} ariaHideApp={false}>\r\n          <Zoom>\r\n            <button className=\"close-modal\" onClick={closeModal}>\r\n              x\r\n            </button>\r\n            <div className=\"product-details\">\r\n              <img src={product.image} alt={product.title} />\r\n              <div className=\"product-details-description\">\r\n                <p>\r\n                  <strong>{product.title}</strong>\r\n                </p>\r\n                <p>{product.description}</p>\r\n                <p>\r\n                  Available sizes:{\" \"}\r\n                  {product.availableSizes.map((size, index) => (\r\n                    <span key={index}>\r\n                      {\" \"}\r\n                      <button className=\"button\">{size}</button>\r\n                    </span>\r\n                  ))}\r\n                </p>\r\n                <div className=\"product-price\">\r\n                  <div>{formatCurrency(product.price)}</div>\r\n                  <button\r\n                    className=\"button primary\"\r\n                    onClick={() => {\r\n                      props.addToCart(product);\r\n                      closeModal();\r\n                    }}\r\n                  >\r\n                    Add to cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Zoom>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n","import React, { useState } from \"react\";\r\nimport Cart from \"./components/Cart\";\r\nimport Filter from \"./components/Filter\";\r\nimport Products from \"./components/Products\";\r\nimport data from \"./data.json\";\r\n\r\nfunction App() {\r\n  const [products, setProducts] = useState(data.products);\r\n  const [size, setSize] = useState(\"\");\r\n  const [sort, setSort] = useState(\"\");\r\n  const [cartItems, setCartItems] = useState(\r\n    localStorage.getItem(\"itemsInCart\")\r\n      ? JSON.parse(localStorage.getItem(\"itemsInCart\"))\r\n      : []\r\n  );\r\n\r\n  const createOrder = (order) => {\r\n    alert(\r\n      \"need to save order for: \" + order.name + order.email + order.address\r\n    );\r\n  };\r\n\r\n  const removeFromCart = (product) => {\r\n    const itemsInCart = cartItems.slice();\r\n    setCartItems(itemsInCart.filter((x) => x._id !== product._id));\r\n    localStorage.setItem(\r\n      \"itemsInCart\",\r\n      JSON.stringify(itemsInCart.filter((x) => x._id !== product._id))\r\n    );\r\n  };\r\n\r\n  const addToCart = (product) => {\r\n    const itemsInCart = cartItems.slice();\r\n    let alreadyInCart = false;\r\n\r\n    itemsInCart.forEach((item) => {\r\n      if (item._id === product._id) {\r\n        item.count++;\r\n        alreadyInCart = true;\r\n      }\r\n    });\r\n    if (!alreadyInCart) {\r\n      itemsInCart.push({ ...product, count: 1 });\r\n    }\r\n    setCartItems(itemsInCart);\r\n    localStorage.setItem(\"itemsInCart\", JSON.stringify(itemsInCart));\r\n  };\r\n\r\n  const sortProducts = (event) => {\r\n    const sort = event.target.value;\r\n    setSort(sort);\r\n    setProducts(\r\n      products\r\n        .slice()\r\n        .sort((a, b) =>\r\n          sort === \"lowest\"\r\n            ? a.price > b.price\r\n              ? 1\r\n              : -1\r\n            : sort === \"highest\"\r\n            ? a.price < b.price\r\n              ? 1\r\n              : -1\r\n            : a._id > b._id\r\n            ? 1\r\n            : -1\r\n        )\r\n    );\r\n  };\r\n\r\n  const filterProducts = (event) => {\r\n    const filter = event.target.value;\r\n\r\n    if (filter === \"\") {\r\n      setSize(filter);\r\n      setProducts(data.products);\r\n    } else {\r\n      setSize(filter);\r\n      setProducts(\r\n        data.products.filter(\r\n          (product) => product.availableSizes.indexOf(filter) >= 0\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid-container\">\r\n      <header>\r\n        <a href=\"/\">React Shopping Cart App</a>\r\n      </header>\r\n      <main>\r\n        <div className=\"content\">\r\n          <div className=\"main-content\">\r\n            <Filter\r\n              count={products.length}\r\n              size={size}\r\n              sort={sort}\r\n              sortProducts={sortProducts}\r\n              filterProducts={filterProducts}\r\n            />\r\n            <Products products={products} addToCart={addToCart} />\r\n          </div>\r\n          <div className=\"sidebar\">\r\n            <Cart\r\n              itemsInCart={cartItems}\r\n              removeFromCart={removeFromCart}\r\n              createOrder={createOrder}\r\n            />\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <footer>All rigthts reserved</footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}